<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Friend Finder App</title>
    <link rel="stylesheet" href="/assets/css/reset.css">
    <link rel="stylesheet" href="/assets/css/style.css">
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.1.3/css/bootstrap.min.css"
        integrity="sha384-MCw98/SFnGE8fJT3GXwEOngsV7Zt27NXFoaoApmYm81iuXoPkFOJwJ8ERdknLPMO" crossorigin="anonymous">
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/css/bootstrap.min.css">
    <script src="https://code.jquery.com/jquery.js"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/js/bootstrap.min.js"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/chosen/1.5.1/chosen.css">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/chosen/1.5.1/chosen.jquery.min.js"></script>




</head>

<body style="background: lightcyan">
    <div class="container">
        <div class="jumbotron jumbotron-fluid">
            <div class="container">
                <h1 style="text-align: center">Friend Finderüë´üîé</h1>
                <h1 style="text-align: center">üìùSurvey Questions</h1>
                <h2 style="text-align: center">About You...</h2>
            </div>
        </div>


        <div id="info" class="card text-white bg-danger mb-3" style="max-width: 38rem;">
            <div class="form-group">
                <label for="exampleFormControlInput1"> Name</label>
                <input type="text" class="form-control" id="friendName" placeholder="First Name Last Name" required>
                <label for="exampleFormControlInput1"> Photo Link</label>
                <input type="text" class="form-control" id="friendPic" placeholder="Paste the link here..." required>

            </div>
        </div>


        <form class="validate-form">
            <div class="form-group">
                <br>
                <div class="row">
                    <div class="col-sm-12">
                        <hr>
                        <h2 id="blink" style="text-align:center;"><span class="blinking"></b>Have Funü§∏‚Äç‚ôÄÔ∏è!!!</b></span>
                        </h2>
                    </div>
                </div>
                <br>
                <br>
                <label for="exampleFormControlSelect1">Question 1:</label>
                <h4>You rarely do something just out of sheer curiosity.<span style="color: red">*</span></h4>
                <select class="chosen-select" id="q1">
                    <option value="1">1 (Strongly Disagree)</option>
                    <option value="2">2 (Disagree)</option>
                    <option value="3" selected>3 (Neutral) </option>
                    <option value="4">4 (Agree)</option>
                    <option value="5">5 (Strongly Agree)</option>
                </select>
            </div>
            <div class="form-group">
                <label for="exampleFormControlSelect1">Question 2:</label>
                <h4>You feel more energetic after spending time with a group of people.<span style="color: red">*</span>
                </h4>
                <select class="chosen-select" id="q2">
                    <option value="1">1 (Strongly Disagree)</option>
                    <option value="2">2 (Disagree)</option>
                    <option value="3" selected>3 (Neutral) </option>
                    <option value="4">4 (Agree)</option>
                    <option value="5">5 (Strongly Agree)</option>
                </select>
            </div>
            <div class="form-group">
                <label for="exampleFormControlSelect1">Question 3:</label>
                <h4>You find it easy to stay relaxed and focused even when there is some pressure.<span
                        style="color: red">*</span></h4>
                <select class="chosen-select" id="q3">
                    <option value="1">1 (Strongly Disagree)</option>
                    <option value="2">2 (Disagree)</option>
                    <option value="3" selected>3 (Neutral) </option>
                    <option value="4">4 (Agree)</option>
                    <option value="5">5 (Strongly Agree)</option>
                </select>
            </div>
            <div class="form-group">
                <label for="exampleFormControlSelect1">Question 4:</label>
                <h4>You think that everyone‚Äôs views should be respected regardless of whether they are supported by
                    facts or not.<span style="color: red">*</span></h4>
                <select class="chosen-select" id="q4">
                    <option value="1">1 (Strongly Disagree)</option>
                    <option value="2">2 (Disagree)</option>
                    <option value="3" selected>3 (Neutral) </option>
                    <option value="4">4 (Agree)</option>
                    <option value="5">5 (Strongly Agree)</option>
                </select>
            </div>
            <div class="form-group">
                <label for="exampleFormControlSelect1">Question 5:</label>
                <h4>In a discussion, truth should be more important than people‚Äôs sensitivities.<span
                        style="color: red">*</span></h4>
                <select class="chosen-select" id="q5">
                    <option value="1">1 (Strongly Disagree)</option>
                    <option value="2">2 (Disagree)</option>
                    <option value="3" selected>3 (Neutral) </option>
                    <option value="4">4 (Agree)</option>
                    <option value="5">5 (Strongly Agree)</option>
                </select>
            </div>
            <div class="form-group">
                <label for="exampleFormControlSelect1">Question 6:</label>
                <h4>Generally speaking, you rely more on your experience than your imagination.<span
                        style="color: red">*</span></h4>
                <select class="chosen-select" id="q6">
                    <option value="1">1 (Strongly Disagree)</option>
                    <option value="2">2 (Disagree)</option>
                    <option value="3" selected>3 (Neutral) </option>
                    <option value="4">4 (Agree)</option>
                    <option value="5">5 (Strongly Agree)</option>
                </select>
            </div>
            <div class="form-group">
                <label for="exampleFormControlSelect1">Question 7:</label>
                <h4>People can rarely upset you.<span style="color: red">*</span></h4>
                <select class="chosen-select" id="q7">
                    <option value="1">1 (Strongly Disagree)</option>
                    <option value="2">2 (Disagree)</option>
                    <option value="3" selected>3 (Neutral) </option>
                    <option value="4">4 (Agree)</option>
                    <option value="5">5 (Strongly Agree)</option>
                </select>
            </div>
            <div class="form-group">
                <label for="exampleFormControlSelect1">Question 8:</label>
                <h4>You rarely get carried away by fantasies and ideas.<span style="color: red">*</span></h4>
                <select class="chosen-select" id="q8">
                    <option value="1">1 (Strongly Disagree)</option>
                    <option value="2">2 (Disagree)</option>
                    <option value="3" selected>3 (Neutral) </option>
                    <option value="4">4 (Agree)</option>
                    <option value="5">5 (Strongly Agree)</option>
                </select>
            </div>
            <div class="form-group">
                <label for="exampleFormControlSelect1">Question 9:</label>
                <h4>Your mind is always buzzing with unexplored ideas and plans.<span style="color: red">*</span></h4>
                <select class="chosen-select" id="q9">
                    <option value="1">1 (Strongly Disagree)</option>
                    <option value="2">2 (Disagree)</option>
                    <option value="3" selected>3 (Neutral) </option>
                    <option value="4">4 (Agree)</option>
                    <option value="5">5 (Strongly Agree)</option>
                </select>
            </div>
            <div class="form-group">
                <label for="exampleFormControlSelect1">Question 10:</label>
                <h4>It is often difficult for you to relate to other people‚Äôs feelings.<span style="color: red">*</span>
                </h4>
                <select class="chosen-select" id="q10">
                    <option value="1">1 (Strongly Disagree)</option>
                    <option value="2">2 (Disagree)</option>
                    <option value="3" selected>3 (Neutral) </option>
                    <option value="4">4 (Agree)</option>
                    <option value="5">5 (Strongly Agree)</option>
                </select>
            </div>
            <div>
                <button class="btn btn-danger" data-toggle="modal" data-target="#myModal" type="submit" name="action"
                    id="submitButton">Submit</button>
            </div>
        </form>



        <footer class="footer">
            <br><br><br><br>
            <p><a href="routes/api/friends">API Friends List</a><span> | </span>
                <a href="https://github.com/mariarabin/FriendFinder">Github Repo</a></p>
            Copyright &copy
        </footer>


        <div>
            <div id="myModal" class="modal fade bd-example-modal-lg" role="dialog" tabindex="-1" aria-labelledby="...">
                <div class="modal-dialog modal-lg" role="document">
                    <div class="modal-content">
                        <p id="congrats" style="margin-left: 20px"><br> Hooray! We found your friend match and he/she
                            is...</p>
                        <h2 id="matchName" style="margin-left: 20px" style="color: coral"> </h2><br>
                        <img id="matchPhoto" src="" alt=""></img>
                    </div>
                    <div class="modal-footer">
                        <button type="button" class="btn btn-secondary" data-dismiss="modal">Close</button>
                    </div>
                </div>
            </div>
        </div>
    </div>

    </div>




    <script src=https://code.jquery.com/jquery-3.3.1.min.js> </script> <script
        src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.7/umd/popper.min.js"
        integrity="sha384-UO2eT0CpHqdSJQ6hJty5KVphtPhzWj9WO1clHTMGa3JDZwrnQq4sF86dIHNDz0W1"
        crossorigin="anonymous"></script>
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/js/bootstrap.min.js"
        integrity="sha384-JjSmVgyd0p3pXB1rRibZUAYoIIy6OrQ6VrjIEaFf/nJGzIxFDsf4x0xIM+B07jRM"
        crossorigin="anonymous"></script>

</body>

</html>


<!-- BELOW CODE IS CRITICAL. IT HANDLES HOW FORM DATA IS SENT TO OUR SERVER -->
<script type="text/javascript">

    $("#submitButton").on("click", function (event) {
        event.preventDefault();

        // Here we grab the form elements
        var newfriend = {
            name: $("#friendName").val().trim(),
            photo: $("#friendPic").val().trim(),
            scores: [$("#q1").val().trim(),
            $("#q2").val().trim(),
            $("#q3").val().trim(),
            $("#q4").val().trim(),
            $("#q5").val().trim(),
            $("#q6").val().trim(),
            $("#q7").val().trim(),
            $("#q8").val().trim(),
            $("#q9").val().trim(),
            $("#q10").val().trim()]
        };
        if (newfriend.name == "" && newfriend.photo == "") {
            alert("Name or Photo link field is blank");
            return false;
        } else {
            console.log(newfriend);
            $.post("/routes/api/friends", newfriend,
                function (data) {
                    console.log("ok" + data.matchName + " and " + data.matchPhoto);
                    //Display Match
                    $("#matchName").text(data.matchName);
                    //$("#matchPhoto").text(data.matchPhoto);
                    $("#matchPhoto").attr("src", data.matchPhoto);
                    $('#myModal').modal("show");
                    //$('#myModal').modal('handleUpdate');
                });
        }
    });




</script>